'use strict';


module.exports = function (config) {
    
    /**
     * @class Socket
     * @desc Socket class sugar for easy emitting
     */
    var Socket = function () {};

    /**
     * @inherits Websocket
     */
    Socket.prototype = new WebSocket('ws://' + window.location.host + ((config && config.path) ? config.path : '/upper'), ['soap', 'xmpp']);

    /**
     * @method emit
     * @desc Send data to the server
     */
    Socket.prototype.emit = function (data) {
        Socket.prototype.send(JSON.stringify(data));
    };

    return new Socket();
};
